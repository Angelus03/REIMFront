<div class="row animated fadeIn">
  <div class="col-sm-12">
    <div class="card card-body">
      <form [formGroup]="regForm" (ngSubmit)="guardarCFDI()" novalidate>
        <div class="row">
          <div class="my-container">
            <div class="col-md-3">
              <!--inicio de DATOS GENERALES-->
              <div class="hiden2">
                <div class="letra2">
                  <strong> 1.&nbsp;&nbsp;DATOS GENERALES</strong>
                </div>
              </div>
              <div class="example-header mat-elevation-z8">
                <div class="my-container">
                  <div class="row">
                    <div class="col-md-6">
                      <!--========Combombox Series=========-->
                      <mat-form-field>
                        <mat-select placeholder="SERIE" formControlName="serie" (selectionChange)="cambioSerie( $event.value )" name="serie">
                          <mat-option *ngFor="let serie of series" [value]="serie">
                            {{ serie.serie }}
                          </mat-option>
                        </mat-select>
                        <mat-error *ngIf="serie.touched && serie.invalid">
                          <sup>*</sup>Por Favor Ingrese una Serie
                        </mat-error>
                      </mat-form-field>
                    </div>
                    <div class="col-md-6">
                      <mat-form-field>
                        <mat-label><b>FOLIO</b></mat-label>
                        <input matInput formControlName="folio" type="text">
                      </mat-form-field>
                    </div>
                  </div>

                  <div class="col-md-12">
                    <mat-form-field>
                      <mat-label><b>SUCURSAL</b></mat-label>
                      <mat-select formControlName="sucursal" aria-placeholder="SUCURSALES">
                        <mat-option>-</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>

                  <div class="col-md-12">
                    <!--========Combombox Formas de Pago=========-->
                    <mat-form-field>
                      <mat-select placeholder="FORMA DE PAGO" formControlName="formaPago" name="formaPago">
                        <mat-option *ngFor="let formaPago of formasPago" [value]="formaPago">
                          {{ formaPago.formaPago + ' - ' + formaPago.descripcion }}
                        </mat-option>
                      </mat-select>
                      <mat-error *ngIf="formaPago.touched && formaPago.invalid">
                        <sup>*</sup>Por Favor Ingrese una Forma de Pago
                      </mat-error>
                    </mat-form-field>
                  </div>

                  <div class="col-md-12">
                    <mat-form-field>
                      <mat-label><b>MONEDA</b></mat-label>
                      <mat-select formControlName="moneda" aria-placeholder="MONEDA">
                        <mat-option value="MXN">MXN - Peso Mexicano</mat-option>
                        <mat-option value="USD">USD - Dolar Americano</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>

                  <div class="col-md-12">
                    <!--========Combombox Tipo de comprobante=========-->
                    <mat-form-field>
                      <mat-select placeholder="TIPO DE COMPROBANTE" formControlName="tipoComprobante" name="tipoComprobante">
                        <mat-option *ngFor="let tipoComprobante of tiposComprobante" [value]="tipoComprobante.tipoComprobante">
                          {{ tipoComprobante.descripcion }}
                        </mat-option>
                      </mat-select>
                      <mat-error *ngIf="tipoComprobante.touched && tipoComprobante.invalid">
                        <sup>*</sup>Por Favor Ingrese un Tipo Comprobante
                      </mat-error>
                    </mat-form-field>
                  </div>

                  <div class="col-md-12">
                    <!-- <mat-form-field>
                      <mat-label>FECHA</mat-label>
                      <input matInput [matDatepicker]="dp3" disabled>
                      <mat-datepicker-toggle matSuffix [for]="dp3"></mat-datepicker-toggle>
                      <mat-datepicker #dp3 disabled="false"></mat-datepicker>
                    </mat-form-field> -->
                    <mat-form-field>
                      <input matInput formControlName="fecha" [matDatepicker]="fecha" type="text" placeholder="Fecha Factura">
                      <mat-datepicker-toggle matSuffix [for]="fecha"></mat-datepicker-toggle>
                      <mat-datepicker #fecha></mat-datepicker>
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!--INICIO DE RECEPOR-->
          <div class="my-container">
            <div class="col-md-3">
              <div class="hiden2">
                <div class="letra2">
                  <strong> 2.&nbsp;&nbsp;RECEPTOR </strong>
                </div>
              </div>
              <div class="example-header mat-elevation-z8">
                <div class="my-container">
                  <div class="col-md-12">
                    <mat-form-field>
                      <mat-label><b>Receptor</b></mat-label>
                      <input matInput formControlName="receptor" type="text">
                    </mat-form-field>
                  </div>

                  <div class="col-md-12">
                    <mat-form-field>
                      <mat-label><b>RFC</b></mat-label>
                      <input matInput formControlName="rfc" type="text">
                    </mat-form-field>
                  </div>

                  <div class="col-md-12">
                    <mat-form-field>
                      <mat-label><b>NOMBRE O RAZÓN SOCIAL</b></mat-label>
                      <input matInput formControlName="nombre" type="text">
                    </mat-form-field>
                  </div>

                  <div class="col-md-12">
                    <mat-form-field>
                      <mat-label><b>USO CFDI</b></mat-label>
                      <mat-select formControlName="usoCFDI" aria-placeholder="MONEDA">
                        <mat-option value="">-</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>

                  <div class="col-md-12">
                    <mat-form-field>
                      <mat-label><b>DIRECCION</b></mat-label>
                      <input matInput formControlName="direccion" type="text">
                    </mat-form-field>
                  </div>

                  <div class="col-md-12">
                    <mat-form-field>
                      <mat-label><b>CORREO ELECTRÓNICO</b></mat-label>
                      <input matInput formControlName="correo" type="text">
                    </mat-form-field>
                  </div>
                </div>

              </div>
            </div>
          </div>

          <!--INICIO DE CONCEPTO-->
          <div class="example-header2">
            <div class="my-container">
              <div class="col-md-12">
                <div class="hiden3">
                  <div class="letra3">
                    <strong> 3.&nbsp;&nbsp;CONCEPTOS </strong>
                  </div>
                </div>

                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Concepto</th>
                        <th scope="col">Unidad </th>
                        <th scope="col">Cantidad</th>
                        <th scope="col">Valor Unitario</th>
                        <th scope="col">Impuesto</th>
                        <th scope="col">Descuento</th>
                        <th scope="col">Importe</th>
                        <th scope="col"></th>
                      </tr>
                    </thead>
                    <tbody>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <div class="text-right">
            <button matTooltip="Añadir nuevo Concepto" mat-mini-fab class="btn btn-primary" [routerLink]="['/agencias/agencia','nuevo']" type="button">
              <i class="fa fa-plus"></i>
            </button>
          </div>

          <!--INICIO SUBTOTAL-->
          <div class="es">
            <div class="my-container">
              <div class="col-md-3">
                <div class="example-header mat-elevation-z8">
                  <div class="my-container">
                    <div class="col-md-12">
                      <mat-form-field>
                        <mat-label><b>SUBTOTAL</b></mat-label>
                        <input matInput formControlName="subtotal" type="text">
                      </mat-form-field>
                    </div>
                    <div class="col-md-12">

                      <mat-form-field>
                        <mat-label><b>TOTAL DE IMPUESTOS TRASLADADOS</b></mat-label>
                        <input matInput formControlName="totalImpuestos" type="text">
                      </mat-form-field>
                    </div>
                    <div class="col-md-12">
                      <mat-form-field>
                        <mat-label><b>TOTAL</b></mat-label>
                        <input matInput formControlName="total" type="text">
                      </mat-form-field>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="es">
          <div class="col-md-10">
            <div class="text-left">
              <button type="button" class="btn btn-danger  m-r-10" (click)="back()"> Regresar</button>
              <button type="submit" class="btn btn-primary btn-success waves-effect waves-light m-r-10 ">GUARDAR</button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>